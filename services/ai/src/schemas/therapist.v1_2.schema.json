{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "therapist.v1_2.schema.json",
  "type": "object",
  "additionalProperties": false,
  "required": ["mirror", "clarify", "explore", "micro_actions", "check", "meta"],
  "properties": {
    "mirror": {
      "type": "object",
      "additionalProperties": false,
      "required": ["partnerA", "partnerB"],
      "properties": {
        "partnerA": { "type": "string", "minLength": 2, "maxLength": 220 },
        "partnerB": { "type": "string", "minLength": 2, "maxLength": 220 }
      }
    },
    "clarify": { "type": "string", "minLength": 2, "maxLength": 300 },
    "explore": { "type": "string", "minLength": 2, "maxLength": 180 },
    "micro_actions": {
      "type": "array",
      "minItems": 0,
      "maxItems": 2,
      "items": { "type": "string", "minLength": 2, "maxLength": 200 }
    },
    "check": { "type": "string", "minLength": 2, "maxLength": 140 },
    "meta": {
      "type": "object",
      "additionalProperties": false,
      "required": ["total_sentences", "version"],
      "properties": {
        "total_sentences": { "type": "integer", "minimum": 1, "maximum": 8 },
        "version": { "type": "string", "const": "therapist_v1.2" }
      }
    }
  }
}
