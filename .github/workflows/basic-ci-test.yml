name: Basic CI Test

on:
  workflow_dispatch:

jobs:
  basic-test:
    name: Basic CI Test
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        cache: 'npm'
        
    - name: Show environment info
      run: |
        echo "ğŸ” Environment Information:"
        echo "Node.js version: $(node --version)"
        echo "npm version: $(npm --version)"
        echo "Current directory: $(pwd)"
        echo "Directory contents:"
        ls -la
        
    - name: Check package.json
      run: |
        echo "ğŸ” Checking package.json..."
        if [ -f "package.json" ]; then
          echo "âœ… package.json exists"
          echo "Package name: $(node -p "require('./package.json').name")"
          echo "Package version: $(node -p "require('./package.json').version")"
        else
          echo "âŒ package.json not found"
          exit 1
        fi
        
    - name: Install dependencies
      run: |
        echo "ğŸ” Installing dependencies..."
        npm ci
        echo "âœ… Dependencies installed successfully"
        
    - name: Test basic npm commands
      run: |
        echo "ğŸ” Testing basic npm commands..."
        echo "Testing npm run type-check..."
        npm run type-check
        echo "âœ… type-check passed"
        
    - name: Success
      run: |
        echo "ğŸ‰ Basic CI test passed!"
        echo "âœ… CI environment is working correctly"
